# Cami Namaz Takip Programı - Apache Configuration

# ==========================================
# SEO ve Arama Motoru Ayarları
# ==========================================

# X-Robots-Tag header ile arama motorlarını engelle
<IfModule mod_headers.c>
    Header set X-Robots-Tag "noindex, nofollow, noarchive, nosnippet"
</IfModule>

# ==========================================
# Güvenlik Ayarları
# ==========================================

Options +FollowSymLinks
Options -Indexes
Options -MultiViews

# Hassas dosyaları gizle
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Config ve log dosyalarına erişimi engelle
<FilesMatch "\.(env|sql|bak|config|dist|fla|inc|ini|log|psd|sh|swp|zip)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# install_schema.sql dosyasına erişimi engelle
<Files "install_schema.sql">
    Order allow,deny
    Deny from all
</Files>

# ==========================================
# URL Rewriting
# ==========================================

RewriteEngine On

# Force HTTPS if available (isteğe bağlı)
#RewriteCond %{HTTPS} off
#RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# ==========================================
# Güvenlik Header'ları
# ==========================================

<IfModule mod_headers.c>
    # XSS Koruması
    Header set X-XSS-Protection "1; mode=block"

    # Clickjacking Koruması
    Header always set X-Frame-Options "SAMEORIGIN"

    # MIME Type Sniffing Koruması
    Header set X-Content-Type-Options "nosniff"

    # Referrer Policy
    Header set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# ==========================================
# PHP Ayarları
# ==========================================

AddDefaultCharset UTF-8

<IfModule mod_php7.c>
    php_flag display_errors Off
    php_flag expose_php Off
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value max_input_time 300
    php_value memory_limit 128M
</IfModule>

# ==========================================
# Önbellekleme
# ==========================================

<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType text/html "access plus 0 seconds"
</IfModule>